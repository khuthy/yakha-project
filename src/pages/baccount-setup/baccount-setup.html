
<ion-content >
  <div class="status" *ngIf="status">
      <div class="container-form" *ngIf="!isProfile">
         <div  class="image">
      <!--  <h4 style="text-align: center; color: #fff;">Manage Profile</h4> -->
      <div class="thumb">
        <img  *ngIf="profileImage" src="{{profileImage}}" class="thumb">
        <img *ngIf="!profileImage"  src="../../assets/imgs/team-avatar.jpg" class="thumb">
        <button ion-fab color="dark" class="btn-upload" mini (click)="selectImage()"><ion-icon name="{{icon}}"></ion-icon></button>
      </div>
    </div>
      <div class="inputs">
        <form [formGroup]="profileForm">
  <ion-list>
<ion-item >
          <ion-label floating style="letter-spacing: 1px"> FullName</ion-label>
          <ion-input type="text" formControlName="fullName" name="fullName" [(ngModel)]="builderProfile.fullName" ngDefaultControl></ion-input>
        </ion-item>
        <div class="error" *ngFor="let validate of validation_messages.fullName">
         <div class="messages" *ngIf="profileForm.get('fullName').hasError(validate.type) && (profileForm.get('fullName').dirty || profileForm.get('fullName').touched)">
           {{validate.message}}
         </div>
         </div>
         <ion-item >
          <ion-label floating>Gender</ion-label>
          <ion-select formControlName="gender" name="gender" [(ngModel)]="builderProfile.gender"  cancelText="Dismiss">
              <ion-option value="Female">Female</ion-option>
              <ion-option value="Male">Male</ion-option>
            </ion-select>
        </ion-item>
        <div class="error" *ngFor="let validate of validation_messages.gender">
         <div class="messages" *ngIf="profileForm.get('gender').hasError(validate.type) && (profileForm.get('gender').dirty || profileForm.get('gender').touched)">
           {{validate.message}}
         </div>
         </div>
      <ion-item >
          <input formControlName="address" ngx-google-places-autocomplete [options]='options' #placesRef="ngx-places" (onAddressChange)="handleAddressChange($event)" style="border: none; width: 100%"/>
        </ion-item>
        <div class="error" *ngFor="let validate of validation_messages.address">
         <div class="messages" *ngIf="profileForm.get('address').hasError(validate.type) && (profileForm.get('address').dirty || profileForm.get('address').touched)">
           {{validate.message}}
         </div>
         </div>
      <!-- <ion-item>
        <ion-label position="floating">Features</ion-label>
        <ion-select [(ngModel)]="room.features" okText="Okay" multiple="true"   cancelText="Dismiss">
          <ion-select-option *ngFor="let n of features">{{n}}</ion-select-option>
        </ion-select>
      </ion-item> -->
     <ion-item >
          <ion-label floating>Price (p/m2)</ion-label>
          <ion-input type="number" formControlName="price" name="price" [(ngModel)]="builderProfile.price"></ion-input>
        </ion-item>
        <div class="error" *ngFor="let validate of validation_messages.price">
         <div class="messages" *ngIf="profileForm.get('price').hasError(validate.type) && (profileForm.get('price').dirty || profileForm.get('price').touched)">
           {{validate.message}}
         </div>
         </div>
        <!-- <ion-item>
          <ion-label floating>Does price include roofing?</ion-label>
          <ion-select >
            <ion-option value="y">Yes</ion-option>
            <ion-option value="n">No</ion-option>
          </ion-select>
        </ion-item> -->
        <ion-item >
          <ion-label floating>Does price include roofing?</ion-label>
          <ion-select formControlName="roof" name="roof" [(ngModel)]="builderProfile.roof"  cancelText="Dismiss">
              <ion-option value="true">Yes</ion-option>
              <ion-option value="false">No</ion-option>
            </ion-select>
        </ion-item>
        <div class="error" *ngFor="let validate of validation_messages.roof">
         <div class="messages" *ngIf="profileForm.get('roof').hasError(validate.type) && (profileForm.get('roof').dirty || profileForm.get('roof').touched)">
           {{validate.message}}
         </div>
         </div>
      <ion-item >
          <ion-label floating>Experience</ion-label>
        <ion-select formControlName="experience" name="experience" [(ngModel)]="builderProfile.experiences"  cancelText="Dismiss">
          <ion-option *ngFor="let e of experiences" value="{{e}}">{{e}}</ion-option>
        </ion-select>
        </ion-item>
        <div class="error" *ngFor="let validate of validation_messages.experience">
         <div class="messages" *ngIf="profileForm.get('experience').hasError(validate.type) && (profileForm.get('experience').dirty || profileForm.get('experience').touched)">
           {{validate.message}}
         </div>
         </div>
      <ion-item >
        <ion-label floating>Are you Certified?</ion-label>
        <ion-select formControlName="certified" name="certified" [(ngModel)]="builderProfile.certified"  cancelText="Dismiss">
            <ion-option value="true">Yes</ion-option>
            <ion-option value="false">No</ion-option>
          </ion-select>
      </ion-item>
      <div class="error" *ngFor="let validate of validation_messages.certified">
       <div class="messages" *ngIf="profileForm.get('certified').hasError(validate.type) && (profileForm.get('certified').dirty || profileForm.get('certified').touched)">
         {{validate.message}}
       </div>
       </div>
  <div class="btn">
    <!-- <button ion-button large clear full center type="submit" [disabled]="!isuploaded"  (click)="createUser()">Done</button> -->
   <button id="skip" color="primary" (click)="createprofile(profileForm)" block type="submit" color="secondary"  [disabled]="!profileForm.valid"  ion-button>Done </button>
</div>
  </ion-list>
</form>
      </div>
    </div>
    <!-- profile for builder starts here -->
<div class="container">
<div class="profiles" *ngIf="isProfile">
    <div class="back">
      <button ion-button clear (click)="navCtrl.pop()"><ion-icon style="font-size: 25px;" name="arrow-back"></ion-icon></button>
      </div>
  <div class="avatar-images">
  <img *ngIf="builderProfile.bricklayerImage" src="{{builderProfile.bricklayerImage}}" class="thumbavatar">
  <img *ngIf="!builderProfile.bricklayerImage" src="../../assets/imgs/team-avatar.jpg" class="thumbavatar">
</div>
<div class="name">
     <h4 style="text-align: center;">{{builderProfile.fullName}}</h4>
     <h5 style="text-align: center;">{{builderProfile.gender}}</h5>
     <ion-fab right bottom>
      <button ion-fab color="button2" (click)="editProfile()">
          <ion-icon name="create" ></ion-icon></button>
    </ion-fab>
   </div>
   <div class="">
    <p> R:{{builderProfile.price}}(p/m2)</p>
    <p> {{builderProfile.roof}} Does your price include roofing</p>
   </div>
   <div class="details">
     <p> {{builderProfile.experiences}} years of experience</p>
    </div>
   <div class="bio">
     <h6><ion-icon size="large" name="pin"></ion-icon></h6>
     <p>
      {{profileForm.value.address}}
     </p>
   </div>
   </div>
</div>
</div>


  <div class="statusApproval" *ngIf="!status">
    <div class="top">
      <img src="../../assets/imgs/logo.png" width="35%">
    </div>
    <h5>Thank you for requesting an account with us.
      Please wait while we process your application.
       This might take up to 24 hours.</h5>
       <div class="bottom"></div>
  </div>
</ion-content>
