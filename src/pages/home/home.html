
<ion-header >
  <ion-navbar color="primary" *ngIf="request">
    <ion-title middle>Home</ion-title>
    <button ion-button clear menuToggle>
      <ion-icon name="menu" style="font-size:3vh; color: #fff;"></ion-icon>
    </button>    
  </ion-navbar>
  
</ion-header>

<ion-content>
         <!-- <ion-input (ionChange)='search($event)' name="user"></ion-input> -->
         <!-- loading the map -->
    <div #map id="map" *ngIf="maps">
      <div class="loader">
          <img src="../../assets/imgs/ajax-loader.gif"/>
      </div>
    
    </div>
    <div class="menu" *ngIf="maps">
     <div class="control">
       <button class="menus"  ion-button clear menuToggle>
        <ion-icon name="menu" style="font-size: 25px; color: rgba(197, 101, 66, 0.966)"></ion-icon>
      </button>
     <!-- Search by location --> 
   <input type="text" id="search" class="controls" *ngIf="location"  placeholder="Search by Location" > 
   <!-- Search by range -->
   

   <!-- Search by name -->
      
           <input *ngIf="name" class="controls" (ngModelChange)="search($event)" placeholder="Search by Name">
    

  
      
      
 
      <ion-fab right style="align-self:center; justify-self: flex-end">
        <button class="searching" ion-fab mini><ion-icon name="search"></ion-icon></button>
        <ion-fab-list>
          <button ion-fab mini style="background-color: chocolate; color: white; font-size: 30px;" (click)="LocationSearch()"><ion-icon  name="search"></ion-icon></button>
          <button ion-fab mini style="background-color: chocolate; color: white; font-size: 30px;" (click)="nameSearch()"><ion-icon name="person"></ion-icon></button>
          <button ion-fab mini style="background-color: chocolate; color: white; font-size: 30px;" (click)="RangeSearch()"><ion-icon name="cash"></ion-icon></button>
        </ion-fab-list>
      </ion-fab>
     </div>
       <ion-item no-lines *ngIf="range">
     <ion-range pin=true min="0" max="1000" [(ngModel)]="price" (ionChange)="setPriceRange(price)">
      <!-- <ion-icon range-left small name="sunny"></ion-icon> -->
      <ion-label range-left color="primary">{{0 | currency:'&#82;'}}</ion-label>
      <ion-label range-right color="primary">{{1000 | currency:'&#82;'}}</ion-label>
    </ion-range>
     </ion-item>
    
   </div> 
   
   <ion-item *ngIf="maps">
      
  </ion-item> 
 
  <div class="slider" *ngIf="maps">
   
    <ion-slides spaceBetween="-65" [slidesPerView]="slidesPerView" (ionSlideDidChange)="moveMapEvent($event)">
      <ion-slide class="magic" *ngFor="let b of builder" (click)="viewBuilderInfo(b)">
        <!-- card starts here -->
        <div class="card" >
          
            <div class="image">
                <img *ngIf="b.image" src="{{b.image}}" alt="tough">
            </div>
          <div class="info">
            <div style="margin-bottom:10px">
               <p style="font-size:2vh;font-weight:700">{{b.fullName}}</p>
               <p style="font-size:2vh;margin-top:-4%;font-weight:400;" class="price"><span>{{b.price|  currency:'&#82;'}}p/m</span><span class="squire">2</span> excluding roofing</p>
               <p style="color:balck;margin-top:-4%;font-size:2vh;padding-bottom:5px" class="stars">{{b.experiences}} years in building experience</p>
            </div>
         

          </div>
     <!-- <div class="thumbnail">
       <div class="top">
         <div class="images">
           <img *ngIf="b.image" src="{{b.image}}" alt="tough">
           <img *ngIf="!b.image" src="../../assets/imgs/team-avatar.jpg" alt="tough">
         </div>
         <div class="title">
          
        
           
         </div>

       </div>
      <hr style="border-color: rgb(255, 3, 3)">
       <div class="bottom">
        
         <div class="view"> 
          <p>View more</p>
          <p><ion-icon style="color:black; font-size:3.5vh" name="arrow-forward"></ion-icon></p>
         </div>
       </div>
     </div> -->
   </div> <!-- card ends here -->

   </ion-slide>
   </ion-slides>  
</div>


<div class="homebuilder" *ngIf="request" >
  <div class="cards" *ngFor="let o of owner"   (click)="viewRequest(o.builder)">
  
    <div class="images">
    <img *ngIf="o.owner.image" src="{{o.owner.image}}" class="thumb-home-builder" (click)="viewProfile(o.owner.image)" alt="profile">
    <img *ngIf="!o.owner.image" src="../../assets/imgs/team-avatar.jpg" class="thumb-home-builder" alt="profile">
  </div>
      <article >
        <p >{{o.owner.fullName}}</p>
      <!--   <p style="font-weight:400;text-align: left;margin-top: -25px;padding-left: 20px; color: #000;">{{o.builder.comment}}</p><br> -->
        <p style="font-size:1.4vh;padding:2.5%">{{o.builder.date | date}}</p>
        <br> 
        <p></p>
    </article> 
    <div class="parent">
       <div class="btn">
      <p>View Request</p>
    </div> 
    </div>
    
  
    
    </div> 
    </div>

</ion-content>

<!-- <button ion-button clear style="font-size: 25px;float: right;top:5px;" (click)="callJoint(o.hOwnerPhone)"><ion-icon name="call"></ion-icon> </button>
 -->